(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(33)},21:function(e,t,a){},29:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),s=(a(21),a(2)),u=a.n(s),i=a(12),l=a(3),g=a(5),y=a(4),f=a(8),h=a(9),v=a(13),p=a(10),m=a(14),d=a(35),b=a(36),C=a(37),k=(a(25),a(11)),w=(a(29),k.createClient({hostIdentifier:"host-n16af4",searchKey:"search-foueoyusuprj187kv7hyfof9",engineName:"hierarchichal-facets"})),j=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={searchTerm:"",results:null,category1:"",category2:"",category3:""},a.search=function(){var e=Object(y.a)(u.a.mark(function e(t){var r,n,c,o,s,y,f,h,v;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n=Object(g.a)({},a.state,t),r=Object(l.a)(r).concat([w.search(a.state.searchTerm,{filters:{all:a.getFiltersArray(n)},facets:{category1:[{type:"value"}],category2:[{type:"value"}],category3:[{type:"value"}]}})]),n.category1&&(r=Object(l.a)(r).concat([a.getCategory1Facets()])),n.category2&&(r=Object(l.a)(r).concat([a.getCategory2Facets(n)])),n.category3&&(r=Object(l.a)(r).concat([a.getCategory3Facets(n)])),e.next=8,Promise.all(r);case 8:return c=e.sent,o=Object(i.a)(c,4),s=o[0],y=o[1],f=o[2],h=o[3],v=Object(g.a)({},y,f,h),s.info.facets=Object(g.a)({},s.info.facets,v),e.abrupt("return",s);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.getCategory1Facets=Object(y.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.search(a.state.searchTerm,{page:{size:0},facets:{category1:[{type:"value"}]}});case 2:return t=e.sent,e.abrupt("return",t.info.facets);case 4:case"end":return e.stop()}},e,this)})),a.getCategory2Facets=function(){var e=Object(y.a)(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.search(a.state.searchTerm,{page:{size:2},filters:{all:[{category1:t.category1}]},facets:{category2:[{type:"value"}]}});case 2:return r=e.sent,e.abrupt("return",r.info.facets);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.getCategory3Facets=function(){var e=Object(y.a)(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.search(a.state.searchTerm,{page:{size:0},filters:{all:[{category1:t.category1},{category2:t.category2}]},facets:{category3:[{type:"value"}]}});case 2:return r=e.sent,e.abrupt("return",r.info.facets);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(e){e.preventDefault(),a.search().then(function(e){a.setState({results:e})})},a.onChange=function(e){var t=e.target.value;a.setState({searchTerm:t})},a.handleClickCategory1=function(e){a.search({category1:e}).then(function(t){a.setState({results:t,category1:e,category2:"",category3:""})})},a.handleClickCategory2=function(e){a.search({category2:e}).then(function(t){a.setState({results:t,category2:e,category3:""})})},a.handleClickCategory3=function(e){a.search({category3:e}).then(function(t){a.setState({results:t,category3:e})})},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"getFiltersArray",value:function(e){var t=e.category1,a=e.category2,r=e.category3,n=[];return t&&(n=[{category1:t}].concat(Object(l.a)(n))),a&&(n=[{category2:a}].concat(Object(l.a)(n))),r&&(n=[{category3:r}].concat(Object(l.a)(n))),n}},{key:"componentDidMount",value:function(){var e=this;this.search().then(function(t){e.setState({results:t})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(d.a,{header:n.a.createElement(b.a,{value:this.state.searchTerm,onChange:this.onChange,onSubmit:this.onSubmit}),sideContent:n.a.createElement("div",null,this.state.results&&n.a.createElement("div",null,this.state.results.info.facets.category1[0].data.map(function(t){return n.a.createElement("div",{key:t.value},n.a.createElement("span",{className:"selectable",onClick:function(a){a.preventDefault(),e.handleClickCategory1(t.value)}},t.value," (",t.count,")"),e.state.category1===t.value&&n.a.createElement("div",null,e.state.results.info.facets.category2[0].data.map(function(t){return n.a.createElement("div",{key:t.value},"\xa0\xa0",n.a.createElement("span",{className:"selectable",onClick:function(a){a.preventDefault(),e.handleClickCategory2(t.value)}},t.value," (",t.count,")"),e.state.category2===t.value&&n.a.createElement("div",null,e.state.results.info.facets.category3[0].data.map(function(t){return n.a.createElement("div",{key:t.value},"\xa0\xa0\xa0\xa0",n.a.createElement("span",{className:"selectable",onClick:function(a){a.preventDefault(),e.handleClickCategory3(t.value)}},t.value," (",t.count,")"))})))})))}))),bodyContent:n.a.createElement("div",null,this.state.results&&this.state.results.results.map(function(e){return n.a.createElement(C.a,{key:e.getRaw("id"),fields:{category1:e.getRaw("category1"),category2:e.getRaw("category2"),category3:e.getRaw("category3")},title:e.getRaw("name"),onClickLink:function(){}})}))}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.3cbe3f5a.chunk.js.map